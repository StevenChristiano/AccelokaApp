2025-03-03 11:07:21.047 [INF] - Aplikasi telah dimulai dan Serilog sudah aktif.
2025-03-03 11:07:21.527 [INF] - Now listening on: http://localhost:5289
2025-03-03 11:07:21.724 [INF] - Application started. Press Ctrl+C to shut down.
2025-03-03 11:07:21.725 [INF] - Hosting environment: Development
2025-03-03 11:07:21.725 [INF] - Content root path: C:\1. Magang\Accelist - Training\Training Intermediate BE\StevenAccelokaAPI
2025-03-03 11:07:22.324 [INF] - Request starting HTTP/1.1 GET http://localhost:5289/swagger/index.html - null null
2025-03-03 11:07:22.856 [INF] - HTTP GET /swagger/index.html responded 200 in 194.7504 ms
2025-03-03 11:07:22.860 [INF] - Request starting HTTP/1.1 GET http://localhost:5289/_framework/aspnetcore-browser-refresh.js - null null
2025-03-03 11:07:22.864 [INF] - Request starting HTTP/1.1 GET http://localhost:5289/_vs/browserLink - null null
2025-03-03 11:07:22.870 [INF] - Request finished HTTP/1.1 GET http://localhost:5289/swagger/index.html - 200 null text/html;charset=utf-8 562.3927ms
2025-03-03 11:07:22.874 [INF] - Request finished HTTP/1.1 GET http://localhost:5289/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 15.7422ms
2025-03-03 11:07:22.999 [INF] - Request finished HTTP/1.1 GET http://localhost:5289/_vs/browserLink - 200 null text/javascript; charset=UTF-8 135.4795ms
2025-03-03 11:07:23.163 [INF] - Request starting HTTP/1.1 GET http://localhost:5289/swagger/v1/swagger.json - null null
2025-03-03 11:07:23.190 [INF] - HTTP GET /swagger/v1/swagger.json responded 200 in 21.8128 ms
2025-03-03 11:07:23.190 [INF] - Request finished HTTP/1.1 GET http://localhost:5289/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 27.0118ms
2025-03-03 11:11:57.274 [INF] - Request starting HTTP/1.1 GET http://localhost:5289/swagger/index.html - null null
2025-03-03 11:11:57.289 [INF] - HTTP GET /swagger/index.html responded 200 in 0.9426 ms
2025-03-03 11:11:57.290 [INF] - Request finished HTTP/1.1 GET http://localhost:5289/swagger/index.html - 200 null text/html;charset=utf-8 15.3455ms
2025-03-03 11:11:57.299 [INF] - Request starting HTTP/1.1 GET http://localhost:5289/_framework/aspnetcore-browser-refresh.js - null null
2025-03-03 11:11:57.299 [INF] - Request starting HTTP/1.1 GET http://localhost:5289/_vs/browserLink - null null
2025-03-03 11:11:57.299 [INF] - Request finished HTTP/1.1 GET http://localhost:5289/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 0.441ms
2025-03-03 11:11:57.306 [INF] - Request finished HTTP/1.1 GET http://localhost:5289/_vs/browserLink - 200 null text/javascript; charset=UTF-8 6.7391ms
2025-03-03 11:11:57.353 [INF] - Request starting HTTP/1.1 GET http://localhost:5289/swagger/v1/swagger.json - null null
2025-03-03 11:11:57.355 [INF] - HTTP GET /swagger/v1/swagger.json responded 200 in 2.4446 ms
2025-03-03 11:11:57.355 [INF] - Request finished HTTP/1.1 GET http://localhost:5289/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 3.0468ms
2025-03-03 11:12:02.147 [INF] - Request starting HTTP/1.1 GET http://localhost:5289/api/v1/get-available-ticket?orderBy=TicketCode&orderState=asc - null null
2025-03-03 11:12:02.151 [WRN] - Failed to determine the https port for redirect.
2025-03-03 11:12:02.155 [INF] - Executing endpoint 'TicketsController.GetAvailableTickets (StevenAccelokaAPI)'
2025-03-03 11:12:02.182 [INF] - Route matched with {action = "GetAvailableTickets", controller = "Tickets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvailableTickets(System.String, System.String, System.String, System.Nullable`1[System.Decimal], System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.String, System.String) on controller TicketsController (StevenAccelokaAPI).
2025-03-03 11:12:02.625 [WRN] - No store type was specified for the decimal property 'Price' on entity type 'Ticket'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-03-03 11:12:03.248 [INF] - Executed DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CategoryName], [t].[EventDate], [t].[Price], [t].[Quota], [t].[TicketCode], [t].[TicketName]
FROM [Tickets] AS [t]
ORDER BY [t].[TicketCode]
2025-03-03 11:12:03.315 [INF] - Executing OkObjectResult, writing value of type '<>f__AnonymousType0`3[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[StevenAccelokaAPI.Models.Ticket, StevenAccelokaAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-03 11:12:03.332 [INF] - Executed action TicketsController.GetAvailableTickets (StevenAccelokaAPI) in 1147.5137ms
2025-03-03 11:12:03.333 [INF] - Executed endpoint 'TicketsController.GetAvailableTickets (StevenAccelokaAPI)'
2025-03-03 11:12:03.333 [INF] - HTTP GET /api/v1/get-available-ticket responded 200 in 1185.2916 ms
2025-03-03 11:12:03.338 [INF] - Request finished HTTP/1.1 GET http://localhost:5289/api/v1/get-available-ticket?orderBy=TicketCode&orderState=asc - 200 null application/json; charset=utf-8 1191.6481ms
2025-03-03 11:17:02.758 [INF] - Aplikasi telah dimulai dan Serilog sudah aktif.
2025-03-03 11:17:03.355 [INF] - Now listening on: http://localhost:5289
2025-03-03 11:17:03.560 [INF] - Application started. Press Ctrl+C to shut down.
2025-03-03 11:17:03.561 [INF] - Hosting environment: Development
2025-03-03 11:17:03.561 [INF] - Content root path: C:\1. Magang\Accelist - Training\Training Intermediate BE\StevenAccelokaAPI
2025-03-03 11:17:04.004 [INF] - Request starting HTTP/1.1 GET http://localhost:5289/swagger/index.html - null null
2025-03-03 11:17:04.367 [INF] - HTTP GET /swagger/index.html responded 200 in 138.7583 ms
2025-03-03 11:17:04.374 [INF] - Request starting HTTP/1.1 GET http://localhost:5289/_framework/aspnetcore-browser-refresh.js - null null
2025-03-03 11:17:04.376 [INF] - Request starting HTTP/1.1 GET http://localhost:5289/_vs/browserLink - null null
2025-03-03 11:17:04.382 [INF] - Request finished HTTP/1.1 GET http://localhost:5289/swagger/index.html - 200 null text/html;charset=utf-8 391.285ms
2025-03-03 11:17:04.388 [INF] - Request finished HTTP/1.1 GET http://localhost:5289/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 15.9706ms
2025-03-03 11:17:04.436 [INF] - Request finished HTTP/1.1 GET http://localhost:5289/_vs/browserLink - 200 null text/javascript; charset=UTF-8 60.2947ms
2025-03-03 11:17:04.504 [INF] - Request starting HTTP/1.1 GET http://localhost:5289/swagger/v1/swagger.json - null null
2025-03-03 11:17:04.516 [INF] - HTTP GET /swagger/v1/swagger.json responded 200 in 10.6838 ms
2025-03-03 11:17:04.516 [INF] - Request finished HTTP/1.1 GET http://localhost:5289/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 12.9182ms
2025-03-03 11:17:17.970 [INF] - Request starting HTTP/1.1 GET http://localhost:5289/api/v1/get-available-ticket?orderBy=TicketCode&orderState=asc - null null
2025-03-03 11:17:17.974 [WRN] - Failed to determine the https port for redirect.
2025-03-03 11:17:17.976 [INF] - Executing endpoint 'TicketsController.GetAvailableTickets (StevenAccelokaAPI)'
2025-03-03 11:17:18.001 [INF] - Route matched with {action = "GetAvailableTickets", controller = "Tickets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvailableTickets(System.String, System.String, System.String, System.Nullable`1[System.Decimal], System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.String, System.String) on controller TicketsController (StevenAccelokaAPI).
2025-03-03 11:17:18.391 [WRN] - No store type was specified for the decimal property 'Price' on entity type 'Ticket'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-03-03 11:17:18.927 [INF] - Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CategoryName], [t].[EventDate], [t].[Price], [t].[Quota], [t].[TicketCode], [t].[TicketName]
FROM [Tickets] AS [t]
ORDER BY [t].[TicketCode]
2025-03-03 11:17:18.989 [INF] - Executing OkObjectResult, writing value of type '<>f__AnonymousType0`3[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[StevenAccelokaAPI.Models.Ticket, StevenAccelokaAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-03 11:17:19.004 [INF] - Executed action TicketsController.GetAvailableTickets (StevenAccelokaAPI) in 1000.7961ms
2025-03-03 11:17:19.005 [INF] - Executed endpoint 'TicketsController.GetAvailableTickets (StevenAccelokaAPI)'
2025-03-03 11:17:19.005 [INF] - HTTP GET /api/v1/get-available-ticket responded 200 in 1034.0169 ms
2025-03-03 11:17:19.011 [INF] - Request finished HTTP/1.1 GET http://localhost:5289/api/v1/get-available-ticket?orderBy=TicketCode&orderState=asc - 200 null application/json; charset=utf-8 1041.1077ms
2025-03-03 11:23:53.522 [INF] - Aplikasi telah dimulai dan Serilog sudah aktif.
2025-03-03 11:23:54.059 [INF] - Now listening on: http://localhost:5289
2025-03-03 11:23:54.192 [INF] - Application started. Press Ctrl+C to shut down.
2025-03-03 11:23:54.192 [INF] - Hosting environment: Development
2025-03-03 11:23:54.193 [INF] - Content root path: C:\1. Magang\Accelist - Training\Training Intermediate BE\StevenAccelokaAPI
2025-03-03 11:23:54.434 [INF] - Request starting HTTP/1.1 GET http://localhost:5289/swagger/index.html - null null
2025-03-03 11:23:54.755 [INF] - HTTP GET /swagger/index.html responded 200 in 117.7644 ms
2025-03-03 11:23:54.760 [INF] - Request starting HTTP/1.1 GET http://localhost:5289/_vs/browserLink - null null
2025-03-03 11:23:54.760 [INF] - Request starting HTTP/1.1 GET http://localhost:5289/_framework/aspnetcore-browser-refresh.js - null null
2025-03-03 11:23:54.763 [INF] - Request finished HTTP/1.1 GET http://localhost:5289/swagger/index.html - 200 null text/html;charset=utf-8 346.2113ms
2025-03-03 11:23:54.765 [INF] - Request finished HTTP/1.1 GET http://localhost:5289/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 6.58ms
2025-03-03 11:23:54.807 [INF] - Request finished HTTP/1.1 GET http://localhost:5289/_vs/browserLink - 200 null text/javascript; charset=UTF-8 47.708ms
2025-03-03 11:23:54.888 [INF] - Request starting HTTP/1.1 GET http://localhost:5289/swagger/v1/swagger.json - null null
2025-03-03 11:23:54.897 [INF] - HTTP GET /swagger/v1/swagger.json responded 200 in 7.6099 ms
2025-03-03 11:23:54.898 [INF] - Request finished HTTP/1.1 GET http://localhost:5289/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 9.7777ms
2025-03-03 11:24:07.114 [INF] - Request starting HTTP/1.1 GET http://localhost:5289/api/v1/get-available-ticket?orderBy=TicketCode&orderState=asc - null null
2025-03-03 11:24:07.118 [WRN] - Failed to determine the https port for redirect.
2025-03-03 11:24:07.121 [INF] - Executing endpoint 'TicketsController.GetAvailableTickets (StevenAccelokaAPI)'
2025-03-03 11:24:07.141 [INF] - Route matched with {action = "GetAvailableTickets", controller = "Tickets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvailableTickets(System.String, System.String, System.String, System.Nullable`1[System.Decimal], System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.String, System.String) on controller TicketsController (StevenAccelokaAPI).
2025-03-03 11:24:07.616 [WRN] - No store type was specified for the decimal property 'Price' on entity type 'Ticket'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-03-03 11:24:08.209 [INF] - Executed DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[EventDate], [t].[Quota], [t].[TicketCode], [t].[TicketName], [t].[CategoryName], [t].[Price]
FROM [Tickets] AS [t]
ORDER BY [t].[TicketCode]
2025-03-03 11:24:08.236 [INF] - Executing OkObjectResult, writing value of type '<>f__AnonymousType0`3[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[StevenAccelokaAPI.Models.DTOs.TicketDto, StevenAccelokaAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-03 11:24:08.255 [INF] - Executed action TicketsController.GetAvailableTickets (StevenAccelokaAPI) in 1110.4412ms
2025-03-03 11:24:08.255 [INF] - Executed endpoint 'TicketsController.GetAvailableTickets (StevenAccelokaAPI)'
2025-03-03 11:24:08.256 [INF] - HTTP GET /api/v1/get-available-ticket responded 200 in 1141.1504 ms
2025-03-03 11:24:08.264 [INF] - Request finished HTTP/1.1 GET http://localhost:5289/api/v1/get-available-ticket?orderBy=TicketCode&orderState=asc - 200 null application/json; charset=utf-8 1150.7889ms
2025-03-03 11:25:21.717 [INF] - Request starting HTTP/1.1 GET http://localhost:5289/api/v1/get-available-ticket?ticketName=121&orderBy=TicketCode&orderState=asc - null null
2025-03-03 11:25:21.717 [INF] - Executing endpoint 'TicketsController.GetAvailableTickets (StevenAccelokaAPI)'
2025-03-03 11:25:21.718 [INF] - Route matched with {action = "GetAvailableTickets", controller = "Tickets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvailableTickets(System.String, System.String, System.String, System.Nullable`1[System.Decimal], System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.String, System.String) on controller TicketsController (StevenAccelokaAPI).
2025-03-03 11:25:21.843 [INF] - Executed DbCommand (39ms) [Parameters=[@__ticketName_0_contains='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[EventDate], [t].[Quota], [t].[TicketCode], [t].[TicketName], [t].[CategoryName], [t].[Price]
FROM [Tickets] AS [t]
WHERE [t].[TicketName] LIKE @__ticketName_0_contains ESCAPE N'\'
ORDER BY [t].[TicketCode]
2025-03-03 11:25:21.845 [INF] - Executing OkObjectResult, writing value of type '<>f__AnonymousType0`3[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[StevenAccelokaAPI.Models.DTOs.TicketDto, StevenAccelokaAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-03 11:25:21.845 [INF] - Executed action TicketsController.GetAvailableTickets (StevenAccelokaAPI) in 126.9565ms
2025-03-03 11:25:21.845 [INF] - Executed endpoint 'TicketsController.GetAvailableTickets (StevenAccelokaAPI)'
2025-03-03 11:25:21.845 [INF] - HTTP GET /api/v1/get-available-ticket responded 200 in 128.1004 ms
2025-03-03 11:25:21.846 [INF] - Request finished HTTP/1.1 GET http://localhost:5289/api/v1/get-available-ticket?ticketName=121&orderBy=TicketCode&orderState=asc - 200 null application/json; charset=utf-8 129.1952ms
2025-03-03 11:25:35.263 [INF] - Request starting HTTP/1.1 GET http://localhost:5289/api/v1/get-available-ticket?ticketName=kapal&orderBy=TicketCode&orderState=asc - null null
2025-03-03 11:25:35.264 [INF] - Executing endpoint 'TicketsController.GetAvailableTickets (StevenAccelokaAPI)'
2025-03-03 11:25:35.264 [INF] - Route matched with {action = "GetAvailableTickets", controller = "Tickets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvailableTickets(System.String, System.String, System.String, System.Nullable`1[System.Decimal], System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.String, System.String) on controller TicketsController (StevenAccelokaAPI).
2025-03-03 11:25:35.314 [INF] - Executed DbCommand (2ms) [Parameters=[@__ticketName_0_contains='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[EventDate], [t].[Quota], [t].[TicketCode], [t].[TicketName], [t].[CategoryName], [t].[Price]
FROM [Tickets] AS [t]
WHERE [t].[TicketName] LIKE @__ticketName_0_contains ESCAPE N'\'
ORDER BY [t].[TicketCode]
2025-03-03 11:25:35.315 [INF] - Executing OkObjectResult, writing value of type '<>f__AnonymousType0`3[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[StevenAccelokaAPI.Models.DTOs.TicketDto, StevenAccelokaAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-03 11:25:35.315 [INF] - Executed action TicketsController.GetAvailableTickets (StevenAccelokaAPI) in 50.8344ms
2025-03-03 11:25:35.315 [INF] - Executed endpoint 'TicketsController.GetAvailableTickets (StevenAccelokaAPI)'
2025-03-03 11:25:35.315 [INF] - HTTP GET /api/v1/get-available-ticket responded 200 in 51.2319 ms
2025-03-03 11:25:35.315 [INF] - Request finished HTTP/1.1 GET http://localhost:5289/api/v1/get-available-ticket?ticketName=kapal&orderBy=TicketCode&orderState=asc - 200 null application/json; charset=utf-8 51.9895ms
2025-03-03 11:25:48.687 [INF] - Request starting HTTP/1.1 GET http://localhost:5289/api/v1/get-available-ticket?ticketName=kapal&orderBy=TicketCode&orderState=desc - null null
2025-03-03 11:25:48.688 [INF] - Executing endpoint 'TicketsController.GetAvailableTickets (StevenAccelokaAPI)'
2025-03-03 11:25:48.688 [INF] - Route matched with {action = "GetAvailableTickets", controller = "Tickets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvailableTickets(System.String, System.String, System.String, System.Nullable`1[System.Decimal], System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.String, System.String) on controller TicketsController (StevenAccelokaAPI).
2025-03-03 11:25:48.693 [INF] - Executed DbCommand (3ms) [Parameters=[@__ticketName_0_contains='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[EventDate], [t].[Quota], [t].[TicketCode], [t].[TicketName], [t].[CategoryName], [t].[Price]
FROM [Tickets] AS [t]
WHERE [t].[TicketName] LIKE @__ticketName_0_contains ESCAPE N'\'
ORDER BY [t].[TicketCode]
2025-03-03 11:25:48.693 [INF] - Executing OkObjectResult, writing value of type '<>f__AnonymousType0`3[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[StevenAccelokaAPI.Models.DTOs.TicketDto, StevenAccelokaAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-03 11:25:48.694 [INF] - Executed action TicketsController.GetAvailableTickets (StevenAccelokaAPI) in 5.5794ms
2025-03-03 11:25:48.694 [INF] - Executed endpoint 'TicketsController.GetAvailableTickets (StevenAccelokaAPI)'
2025-03-03 11:25:48.694 [INF] - HTTP GET /api/v1/get-available-ticket responded 200 in 5.9636 ms
2025-03-03 11:25:48.694 [INF] - Request finished HTTP/1.1 GET http://localhost:5289/api/v1/get-available-ticket?ticketName=kapal&orderBy=TicketCode&orderState=desc - 200 null application/json; charset=utf-8 6.7381ms
2025-03-03 11:25:53.734 [INF] - Request starting HTTP/1.1 GET http://localhost:5289/api/v1/get-available-ticket?orderBy=TicketCode&orderState=desc - null null
2025-03-03 11:25:53.735 [INF] - Executing endpoint 'TicketsController.GetAvailableTickets (StevenAccelokaAPI)'
2025-03-03 11:25:53.735 [INF] - Route matched with {action = "GetAvailableTickets", controller = "Tickets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvailableTickets(System.String, System.String, System.String, System.Nullable`1[System.Decimal], System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.String, System.String) on controller TicketsController (StevenAccelokaAPI).
2025-03-03 11:25:53.739 [INF] - Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[EventDate], [t].[Quota], [t].[TicketCode], [t].[TicketName], [t].[CategoryName], [t].[Price]
FROM [Tickets] AS [t]
ORDER BY [t].[TicketCode]
2025-03-03 11:25:53.741 [INF] - Executing OkObjectResult, writing value of type '<>f__AnonymousType0`3[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[StevenAccelokaAPI.Models.DTOs.TicketDto, StevenAccelokaAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-03 11:25:53.741 [INF] - Executed action TicketsController.GetAvailableTickets (StevenAccelokaAPI) in 6.0738ms
2025-03-03 11:25:53.741 [INF] - Executed endpoint 'TicketsController.GetAvailableTickets (StevenAccelokaAPI)'
2025-03-03 11:25:53.741 [INF] - HTTP GET /api/v1/get-available-ticket responded 200 in 6.4388 ms
2025-03-03 11:25:53.741 [INF] - Request finished HTTP/1.1 GET http://localhost:5289/api/v1/get-available-ticket?orderBy=TicketCode&orderState=desc - 200 null application/json; charset=utf-8 7.1712ms
2025-03-03 11:36:35.758 [INF] - Request starting HTTP/1.1 GET http://localhost:5289/api/v1/get-available-ticket?orderBy=TicketCode&orderState=desc - null null
2025-03-03 11:36:35.760 [INF] - Executing endpoint 'TicketsController.GetAvailableTickets (StevenAccelokaAPI)'
2025-03-03 11:36:35.760 [INF] - Route matched with {action = "GetAvailableTickets", controller = "Tickets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvailableTickets(System.String, System.String, System.String, System.Nullable`1[System.Decimal], System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.String, System.String) on controller TicketsController (StevenAccelokaAPI).
2025-03-03 11:36:35.774 [INF] - Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[EventDate], [t].[Quota], [t].[TicketCode], [t].[TicketName], [t].[CategoryName], [t].[Price]
FROM [Tickets] AS [t]
ORDER BY [t].[TicketCode]
2025-03-03 11:36:35.774 [INF] - Executing OkObjectResult, writing value of type '<>f__AnonymousType0`3[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[StevenAccelokaAPI.Models.DTOs.TicketDto, StevenAccelokaAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-03 11:36:35.774 [INF] - Executed action TicketsController.GetAvailableTickets (StevenAccelokaAPI) in 14.2483ms
2025-03-03 11:36:35.774 [INF] - Executed endpoint 'TicketsController.GetAvailableTickets (StevenAccelokaAPI)'
2025-03-03 11:36:35.774 [INF] - HTTP GET /api/v1/get-available-ticket responded 200 in 14.8243 ms
2025-03-03 11:36:35.775 [INF] - Request finished HTTP/1.1 GET http://localhost:5289/api/v1/get-available-ticket?orderBy=TicketCode&orderState=desc - 200 null application/json; charset=utf-8 19.2311ms
2025-03-03 11:37:51.145 [INF] - Request starting HTTP/1.1 GET http://localhost:5289/swagger/index.html - null null
2025-03-03 11:37:51.186 [INF] - HTTP GET /swagger/index.html responded 200 in 0.5191 ms
2025-03-03 11:37:51.186 [INF] - Request finished HTTP/1.1 GET http://localhost:5289/swagger/index.html - 200 null text/html;charset=utf-8 41.2111ms
2025-03-03 11:37:51.193 [INF] - Request starting HTTP/1.1 GET http://localhost:5289/_vs/browserLink - null null
2025-03-03 11:37:51.193 [INF] - Request starting HTTP/1.1 GET http://localhost:5289/_framework/aspnetcore-browser-refresh.js - null null
2025-03-03 11:37:51.193 [INF] - Request finished HTTP/1.1 GET http://localhost:5289/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 0.3544ms
2025-03-03 11:37:51.209 [INF] - Request finished HTTP/1.1 GET http://localhost:5289/_vs/browserLink - 200 null text/javascript; charset=UTF-8 15.8968ms
2025-03-03 11:37:51.330 [INF] - Request starting HTTP/1.1 GET http://localhost:5289/swagger/v1/swagger.json - null null
2025-03-03 11:37:51.333 [INF] - HTTP GET /swagger/v1/swagger.json responded 200 in 3.1566 ms
2025-03-03 11:37:51.333 [INF] - Request finished HTTP/1.1 GET http://localhost:5289/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 3.6192ms
2025-03-03 11:37:55.198 [INF] - Request starting HTTP/1.1 GET http://localhost:5289/api/v1/get-available-ticket?orderBy=TicketCode&orderState=asc - null null
2025-03-03 11:37:55.198 [INF] - Executing endpoint 'TicketsController.GetAvailableTickets (StevenAccelokaAPI)'
2025-03-03 11:37:55.198 [INF] - Route matched with {action = "GetAvailableTickets", controller = "Tickets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvailableTickets(System.String, System.String, System.String, System.Nullable`1[System.Decimal], System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.String, System.String) on controller TicketsController (StevenAccelokaAPI).
2025-03-03 11:37:55.202 [INF] - Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[EventDate], [t].[Quota], [t].[TicketCode], [t].[TicketName], [t].[CategoryName], [t].[Price]
FROM [Tickets] AS [t]
ORDER BY [t].[TicketCode]
2025-03-03 11:37:55.203 [INF] - Executing OkObjectResult, writing value of type '<>f__AnonymousType0`3[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[StevenAccelokaAPI.Models.DTOs.TicketDto, StevenAccelokaAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-03 11:37:55.203 [INF] - Executed action TicketsController.GetAvailableTickets (StevenAccelokaAPI) in 5.1794ms
2025-03-03 11:37:55.203 [INF] - Executed endpoint 'TicketsController.GetAvailableTickets (StevenAccelokaAPI)'
2025-03-03 11:37:55.203 [INF] - HTTP GET /api/v1/get-available-ticket responded 200 in 5.6504 ms
2025-03-03 11:37:55.204 [INF] - Request finished HTTP/1.1 GET http://localhost:5289/api/v1/get-available-ticket?orderBy=TicketCode&orderState=asc - 200 null application/json; charset=utf-8 6.6602ms
2025-03-03 11:38:07.944 [INF] - Aplikasi telah dimulai dan Serilog sudah aktif.
2025-03-03 11:38:08.469 [INF] - Now listening on: http://localhost:5289
2025-03-03 11:38:08.595 [INF] - Application started. Press Ctrl+C to shut down.
2025-03-03 11:38:08.595 [INF] - Hosting environment: Development
2025-03-03 11:38:08.595 [INF] - Content root path: C:\1. Magang\Accelist - Training\Training Intermediate BE\StevenAccelokaAPI
2025-03-03 11:38:09.163 [INF] - Request starting HTTP/1.1 GET http://localhost:5289/swagger/index.html - null null
2025-03-03 11:38:09.478 [INF] - HTTP GET /swagger/index.html responded 200 in 128.6659 ms
2025-03-03 11:38:09.484 [INF] - Request starting HTTP/1.1 GET http://localhost:5289/_framework/aspnetcore-browser-refresh.js - null null
2025-03-03 11:38:09.486 [INF] - Request finished HTTP/1.1 GET http://localhost:5289/swagger/index.html - 200 null text/html;charset=utf-8 338.6817ms
2025-03-03 11:38:09.488 [INF] - Request starting HTTP/1.1 GET http://localhost:5289/_vs/browserLink - null null
2025-03-03 11:38:09.488 [INF] - Request finished HTTP/1.1 GET http://localhost:5289/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 6.1433ms
2025-03-03 11:38:09.551 [INF] - Request finished HTTP/1.1 GET http://localhost:5289/_vs/browserLink - 200 null text/javascript; charset=UTF-8 63.0545ms
2025-03-03 11:38:09.771 [INF] - Request starting HTTP/1.1 GET http://localhost:5289/swagger/v1/swagger.json - null null
2025-03-03 11:38:09.783 [INF] - HTTP GET /swagger/v1/swagger.json responded 200 in 9.7519 ms
2025-03-03 11:38:09.783 [INF] - Request finished HTTP/1.1 GET http://localhost:5289/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 11.8514ms
2025-03-03 11:38:16.438 [INF] - Request starting HTTP/1.1 GET http://localhost:5289/api/v1/get-available-ticket?orderBy=TicketCode&orderState=asc&page=1&pageSize=10 - null null
2025-03-03 11:38:16.447 [WRN] - Failed to determine the https port for redirect.
2025-03-03 11:38:16.452 [INF] - Executing endpoint 'TicketsController.GetAvailableTickets (StevenAccelokaAPI)'
2025-03-03 11:38:16.497 [INF] - Route matched with {action = "GetAvailableTickets", controller = "Tickets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvailableTickets(System.String, System.String, System.String, System.Nullable`1[System.Decimal], System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.String, System.String, Int32, Int32) on controller TicketsController (StevenAccelokaAPI).
2025-03-03 11:38:17.214 [WRN] - No store type was specified for the decimal property 'Price' on entity type 'Ticket'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-03-03 11:38:18.134 [INF] - Executed DbCommand (41ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tickets] AS [t]
2025-03-03 11:38:18.247 [INF] - Executed DbCommand (36ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[EventDate], [t].[Quota], [t].[TicketCode], [t].[TicketName], [t].[CategoryName], [t].[Price]
FROM [Tickets] AS [t]
ORDER BY [t].[TicketCode]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-03-03 11:38:18.267 [INF] - Executing OkObjectResult, writing value of type '<>f__AnonymousType0`7[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[StevenAccelokaAPI.Models.DTOs.TicketDto, StevenAccelokaAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-03 11:38:18.304 [INF] - Executed action TicketsController.GetAvailableTickets (StevenAccelokaAPI) in 1802.6392ms
2025-03-03 11:38:18.304 [INF] - Executed endpoint 'TicketsController.GetAvailableTickets (StevenAccelokaAPI)'
2025-03-03 11:38:18.306 [INF] - HTTP GET /api/v1/get-available-ticket responded 200 in 1864.6359 ms
2025-03-03 11:38:18.313 [INF] - Request finished HTTP/1.1 GET http://localhost:5289/api/v1/get-available-ticket?orderBy=TicketCode&orderState=asc&page=1&pageSize=10 - 200 null application/json; charset=utf-8 1875.7362ms
2025-03-03 11:38:34.748 [INF] - Request starting HTTP/1.1 GET http://localhost:5289/api/v1/get-available-ticket?orderBy=TicketCode&orderState=asc&page=2&pageSize=10 - null null
2025-03-03 11:38:34.749 [INF] - Executing endpoint 'TicketsController.GetAvailableTickets (StevenAccelokaAPI)'
2025-03-03 11:38:34.749 [INF] - Route matched with {action = "GetAvailableTickets", controller = "Tickets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvailableTickets(System.String, System.String, System.String, System.Nullable`1[System.Decimal], System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.String, System.String, Int32, Int32) on controller TicketsController (StevenAccelokaAPI).
2025-03-03 11:38:34.767 [INF] - Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tickets] AS [t]
2025-03-03 11:38:34.776 [INF] - Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[EventDate], [t].[Quota], [t].[TicketCode], [t].[TicketName], [t].[CategoryName], [t].[Price]
FROM [Tickets] AS [t]
ORDER BY [t].[TicketCode]
OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
2025-03-03 11:38:34.777 [INF] - Executing OkObjectResult, writing value of type '<>f__AnonymousType0`7[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[StevenAccelokaAPI.Models.DTOs.TicketDto, StevenAccelokaAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-03 11:38:34.777 [INF] - Executed action TicketsController.GetAvailableTickets (StevenAccelokaAPI) in 28.1983ms
2025-03-03 11:38:34.777 [INF] - Executed endpoint 'TicketsController.GetAvailableTickets (StevenAccelokaAPI)'
2025-03-03 11:38:34.777 [INF] - HTTP GET /api/v1/get-available-ticket responded 200 in 28.9058 ms
2025-03-03 11:38:34.777 [INF] - Request finished HTTP/1.1 GET http://localhost:5289/api/v1/get-available-ticket?orderBy=TicketCode&orderState=asc&page=2&pageSize=10 - 200 null application/json; charset=utf-8 29.5181ms
2025-03-03 11:38:49.197 [INF] - Request starting HTTP/1.1 GET http://localhost:5289/api/v1/get-available-ticket?orderBy=TicketCode&orderState=asc&page=2&pageSize=4 - null null
2025-03-03 11:38:49.198 [INF] - Executing endpoint 'TicketsController.GetAvailableTickets (StevenAccelokaAPI)'
2025-03-03 11:38:49.198 [INF] - Route matched with {action = "GetAvailableTickets", controller = "Tickets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvailableTickets(System.String, System.String, System.String, System.Nullable`1[System.Decimal], System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.String, System.String, Int32, Int32) on controller TicketsController (StevenAccelokaAPI).
2025-03-03 11:38:49.248 [INF] - Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tickets] AS [t]
2025-03-03 11:38:49.251 [INF] - Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[EventDate], [t].[Quota], [t].[TicketCode], [t].[TicketName], [t].[CategoryName], [t].[Price]
FROM [Tickets] AS [t]
ORDER BY [t].[TicketCode]
OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
2025-03-03 11:38:49.251 [INF] - Executing OkObjectResult, writing value of type '<>f__AnonymousType0`7[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[StevenAccelokaAPI.Models.DTOs.TicketDto, StevenAccelokaAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-03 11:38:49.252 [INF] - Executed action TicketsController.GetAvailableTickets (StevenAccelokaAPI) in 53.8037ms
2025-03-03 11:38:49.252 [INF] - Executed endpoint 'TicketsController.GetAvailableTickets (StevenAccelokaAPI)'
2025-03-03 11:38:49.252 [INF] - HTTP GET /api/v1/get-available-ticket responded 200 in 54.1905 ms
2025-03-03 11:38:49.252 [INF] - Request finished HTTP/1.1 GET http://localhost:5289/api/v1/get-available-ticket?orderBy=TicketCode&orderState=asc&page=2&pageSize=4 - 200 null application/json; charset=utf-8 54.9783ms
2025-03-03 11:38:56.551 [INF] - Request starting HTTP/1.1 GET http://localhost:5289/api/v1/get-available-ticket?orderBy=TicketCode&orderState=asc&page=1&pageSize=4 - null null
2025-03-03 11:38:56.551 [INF] - Executing endpoint 'TicketsController.GetAvailableTickets (StevenAccelokaAPI)'
2025-03-03 11:38:56.551 [INF] - Route matched with {action = "GetAvailableTickets", controller = "Tickets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvailableTickets(System.String, System.String, System.String, System.Nullable`1[System.Decimal], System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.String, System.String, Int32, Int32) on controller TicketsController (StevenAccelokaAPI).
2025-03-03 11:38:56.555 [INF] - Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tickets] AS [t]
2025-03-03 11:38:56.557 [INF] - Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[EventDate], [t].[Quota], [t].[TicketCode], [t].[TicketName], [t].[CategoryName], [t].[Price]
FROM [Tickets] AS [t]
ORDER BY [t].[TicketCode]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-03-03 11:38:56.557 [INF] - Executing OkObjectResult, writing value of type '<>f__AnonymousType0`7[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[StevenAccelokaAPI.Models.DTOs.TicketDto, StevenAccelokaAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-03 11:38:56.558 [INF] - Executed action TicketsController.GetAvailableTickets (StevenAccelokaAPI) in 6.044ms
2025-03-03 11:38:56.558 [INF] - Executed endpoint 'TicketsController.GetAvailableTickets (StevenAccelokaAPI)'
2025-03-03 11:38:56.558 [INF] - HTTP GET /api/v1/get-available-ticket responded 200 in 6.4785 ms
2025-03-03 11:38:56.559 [INF] - Request finished HTTP/1.1 GET http://localhost:5289/api/v1/get-available-ticket?orderBy=TicketCode&orderState=asc&page=1&pageSize=4 - 200 null application/json; charset=utf-8 7.1524ms
2025-03-03 12:08:20.299 [INF] - Aplikasi telah dimulai dan Serilog sudah aktif.
2025-03-03 12:08:20.774 [INF] - Now listening on: http://localhost:5289
2025-03-03 12:08:20.892 [INF] - Application started. Press Ctrl+C to shut down.
2025-03-03 12:08:20.893 [INF] - Hosting environment: Development
2025-03-03 12:08:20.893 [INF] - Content root path: C:\1. Magang\Accelist - Training\Training Intermediate BE\StevenAccelokaAPI
2025-03-03 12:08:21.448 [INF] - Request starting HTTP/1.1 GET http://localhost:5289/swagger/index.html - null null
2025-03-03 12:08:21.784 [INF] - HTTP GET /swagger/index.html responded 200 in 113.9653 ms
2025-03-03 12:08:21.788 [INF] - Request starting HTTP/1.1 GET http://localhost:5289/_framework/aspnetcore-browser-refresh.js - null null
2025-03-03 12:08:21.793 [INF] - Request finished HTTP/1.1 GET http://localhost:5289/swagger/index.html - 200 null text/html;charset=utf-8 358.1177ms
2025-03-03 12:08:21.793 [INF] - Request finished HTTP/1.1 GET http://localhost:5289/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 6.4337ms
2025-03-03 12:08:21.794 [INF] - Request starting HTTP/1.1 GET http://localhost:5289/_vs/browserLink - null null
2025-03-03 12:08:21.851 [INF] - Request finished HTTP/1.1 GET http://localhost:5289/_vs/browserLink - 200 null text/javascript; charset=UTF-8 56.5352ms
2025-03-03 12:08:21.946 [INF] - Request starting HTTP/1.1 GET http://localhost:5289/swagger/v1/swagger.json - null null
2025-03-03 12:08:21.957 [INF] - HTTP GET /swagger/v1/swagger.json responded 200 in 10.0109 ms
2025-03-03 12:08:21.958 [INF] - Request finished HTTP/1.1 GET http://localhost:5289/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 12.1416ms
2025-03-03 12:08:29.536 [INF] - Request starting HTTP/1.1 GET http://localhost:5289/api/v1/get-available-ticket?orderBy=TicketCode&orderState=asc&page=1&pageSize=10 - null null
2025-03-03 12:08:29.542 [WRN] - Failed to determine the https port for redirect.
2025-03-03 12:08:29.546 [INF] - Executing endpoint 'TicketsController.GetAvailableTickets (StevenAccelokaAPI)'
2025-03-03 12:08:29.587 [INF] - Route matched with {action = "GetAvailableTickets", controller = "Tickets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvailableTickets(System.String, System.String, System.String, System.Nullable`1[System.Decimal], System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.String, System.String, Int32, Int32) on controller TicketsController (StevenAccelokaAPI).
2025-03-03 12:08:30.240 [WRN] - No store type was specified for the decimal property 'Price' on entity type 'Ticket'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-03-03 12:08:30.971 [INF] - Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tickets] AS [t]
2025-03-03 12:08:31.096 [INF] - Executed DbCommand (31ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[EventDate], [t].[Quota], [t].[TicketCode], [t].[TicketName], [t].[CategoryName], [t].[Price]
FROM [Tickets] AS [t]
ORDER BY [t].[TicketCode]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-03-03 12:08:31.109 [INF] - Executing OkObjectResult, writing value of type '<>f__AnonymousType0`7[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[StevenAccelokaAPI.Models.DTOs.TicketDto, StevenAccelokaAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-03 12:08:31.140 [INF] - Executed action TicketsController.GetAvailableTickets (StevenAccelokaAPI) in 1549.3662ms
2025-03-03 12:08:31.140 [INF] - Executed endpoint 'TicketsController.GetAvailableTickets (StevenAccelokaAPI)'
2025-03-03 12:08:31.142 [INF] - HTTP GET /api/v1/get-available-ticket responded 200 in 1603.6905 ms
2025-03-03 12:08:31.151 [INF] - Request finished HTTP/1.1 GET http://localhost:5289/api/v1/get-available-ticket?orderBy=TicketCode&orderState=asc&page=1&pageSize=10 - 200 null application/json; charset=utf-8 1614.7143ms
2025-03-03 12:08:36.657 [INF] - Request starting HTTP/1.1 GET http://localhost:5289/api/v1/get-available-ticket?orderBy=TicketCode&orderState=asc&page=1&pageSize=5 - null null
2025-03-03 12:08:36.658 [INF] - Executing endpoint 'TicketsController.GetAvailableTickets (StevenAccelokaAPI)'
2025-03-03 12:08:36.658 [INF] - Route matched with {action = "GetAvailableTickets", controller = "Tickets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvailableTickets(System.String, System.String, System.String, System.Nullable`1[System.Decimal], System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.String, System.String, Int32, Int32) on controller TicketsController (StevenAccelokaAPI).
2025-03-03 12:08:36.674 [INF] - Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tickets] AS [t]
2025-03-03 12:08:36.679 [INF] - Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[EventDate], [t].[Quota], [t].[TicketCode], [t].[TicketName], [t].[CategoryName], [t].[Price]
FROM [Tickets] AS [t]
ORDER BY [t].[TicketCode]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-03-03 12:08:36.679 [INF] - Executing OkObjectResult, writing value of type '<>f__AnonymousType0`7[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[StevenAccelokaAPI.Models.DTOs.TicketDto, StevenAccelokaAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-03 12:08:36.680 [INF] - Executed action TicketsController.GetAvailableTickets (StevenAccelokaAPI) in 21.6719ms
2025-03-03 12:08:36.680 [INF] - Executed endpoint 'TicketsController.GetAvailableTickets (StevenAccelokaAPI)'
2025-03-03 12:08:36.680 [INF] - HTTP GET /api/v1/get-available-ticket responded 200 in 22.4482 ms
2025-03-03 12:08:36.680 [INF] - Request finished HTTP/1.1 GET http://localhost:5289/api/v1/get-available-ticket?orderBy=TicketCode&orderState=asc&page=1&pageSize=5 - 200 null application/json; charset=utf-8 23.2025ms
2025-03-03 14:13:47.579 [WRN] - No store type was specified for the decimal property 'Price' on entity type 'Ticket'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-03-03 14:14:07.461 [WRN] - No store type was specified for the decimal property 'Price' on entity type 'Ticket'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-03-03 14:14:07.732 [INF] - Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-03-03 14:14:07.738 [INF] - Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-03-03 14:14:07.753 [INF] - Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-03-03 14:14:07.803 [INF] - Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-03-03 14:14:07.808 [INF] - Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-03-03 14:14:07.808 [INF] - Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-03-03 14:14:07.813 [INF] - Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-03-03 14:14:07.820 [INF] - Applying migration '20250303071348_AddBookedTicketsTable'.
2025-03-03 14:14:07.831 [INF] - Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [BookedTickets] (
    [Id] int NOT NULL IDENTITY,
    [TicketCode] nvarchar(50) NOT NULL,
    [TicketName] nvarchar(100) NOT NULL,
    [CategoryName] nvarchar(50) NOT NULL,
    [Quantity] int NOT NULL,
    [Price] decimal(18,2) NOT NULL,
    [EventDate] datetime2 NOT NULL,
    [BookingDate] datetime2 NOT NULL,
    CONSTRAINT [PK_BookedTickets] PRIMARY KEY ([Id])
);
2025-03-03 14:14:07.832 [INF] - Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20250303071348_AddBookedTicketsTable', N'9.0.2');
2025-03-03 14:14:07.834 [INF] - Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-03-03 14:29:33.004 [INF] - Aplikasi telah dimulai dan Serilog sudah aktif.
2025-03-03 14:29:33.474 [INF] - Now listening on: http://localhost:5289
2025-03-03 14:29:33.570 [INF] - Application started. Press Ctrl+C to shut down.
2025-03-03 14:29:33.570 [INF] - Hosting environment: Development
2025-03-03 14:29:33.570 [INF] - Content root path: C:\1. Magang\Accelist - Training\Training Intermediate BE\StevenAccelokaAPI
2025-03-03 14:29:33.955 [INF] - Request starting HTTP/1.1 GET http://localhost:5289/swagger/index.html - null null
2025-03-03 14:29:34.372 [INF] - HTTP GET /swagger/index.html responded 200 in 137.6360 ms
2025-03-03 14:29:34.380 [INF] - Request finished HTTP/1.1 GET http://localhost:5289/swagger/index.html - 200 null text/html;charset=utf-8 438.9929ms
2025-03-03 14:29:34.384 [INF] - Request starting HTTP/1.1 GET http://localhost:5289/_framework/aspnetcore-browser-refresh.js - null null
2025-03-03 14:29:34.384 [INF] - Request starting HTTP/1.1 GET http://localhost:5289/_vs/browserLink - null null
2025-03-03 14:29:34.389 [INF] - Request finished HTTP/1.1 GET http://localhost:5289/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 5.9863ms
2025-03-03 14:29:34.443 [INF] - Request finished HTTP/1.1 GET http://localhost:5289/_vs/browserLink - 200 null text/javascript; charset=UTF-8 60.502ms
2025-03-03 14:29:34.532 [INF] - Request starting HTTP/1.1 GET http://localhost:5289/swagger/v1/swagger.json - null null
2025-03-03 14:29:34.546 [INF] - HTTP GET /swagger/v1/swagger.json responded 200 in 12.8525 ms
2025-03-03 14:29:34.547 [INF] - Request finished HTTP/1.1 GET http://localhost:5289/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 15.0498ms
2025-03-03 14:30:33.718 [INF] - Request starting HTTP/1.1 POST http://localhost:5289/api/v1/book-ticket - application/json 150
2025-03-03 14:30:33.724 [WRN] - Failed to determine the https port for redirect.
2025-03-03 14:30:33.728 [INF] - Executing endpoint 'TicketsController.BookTicket (StevenAccelokaAPI)'
2025-03-03 14:30:33.751 [INF] - Route matched with {action = "BookTicket", controller = "Tickets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] BookTicket(StevenAccelokaAPI.Models.DTOs.BookTicketRequest) on controller TicketsController (StevenAccelokaAPI).
2025-03-03 14:30:34.268 [WRN] - No store type was specified for the decimal property 'Price' on entity type 'Ticket'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-03-03 14:30:35.128 [INF] - Executed DbCommand (61ms) [Parameters=[@__ticketCodes_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CategoryName], [t].[EventDate], [t].[Price], [t].[Quota], [t].[TicketCode], [t].[TicketName]
FROM [Tickets] AS [t]
WHERE [t].[TicketCode] IN (
    SELECT [t0].[value]
    FROM OPENJSON(@__ticketCodes_0) WITH ([value] nvarchar(max) '$') AS [t0]
)
2025-03-03 14:30:35.154 [INF] - Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-03-03 14:30:35.175 [INF] - Executed action TicketsController.BookTicket (StevenAccelokaAPI) in 1420.6155ms
2025-03-03 14:30:35.175 [INF] - Executed endpoint 'TicketsController.BookTicket (StevenAccelokaAPI)'
2025-03-03 14:30:35.176 [INF] - HTTP POST /api/v1/book-ticket responded 404 in 1455.7165 ms
2025-03-03 14:30:35.182 [INF] - Request finished HTTP/1.1 POST http://localhost:5289/api/v1/book-ticket - 404 null application/problem+json; charset=utf-8 1464.0493ms
2025-03-03 14:31:28.651 [INF] - Request starting HTTP/1.1 POST http://localhost:5289/api/v1/book-ticket - application/json 148
2025-03-03 14:31:28.654 [INF] - Executing endpoint 'TicketsController.BookTicket (StevenAccelokaAPI)'
2025-03-03 14:31:28.654 [INF] - Route matched with {action = "BookTicket", controller = "Tickets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] BookTicket(StevenAccelokaAPI.Models.DTOs.BookTicketRequest) on controller TicketsController (StevenAccelokaAPI).
2025-03-03 14:31:28.681 [INF] - Executed DbCommand (4ms) [Parameters=[@__ticketCodes_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CategoryName], [t].[EventDate], [t].[Price], [t].[Quota], [t].[TicketCode], [t].[TicketName]
FROM [Tickets] AS [t]
WHERE [t].[TicketCode] IN (
    SELECT [t0].[value]
    FROM OPENJSON(@__ticketCodes_0) WITH ([value] nvarchar(max) '$') AS [t0]
)
2025-03-03 14:31:28.728 [INF] - Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-03-03 14:31:28.729 [INF] - Executed action TicketsController.BookTicket (StevenAccelokaAPI) in 74.7007ms
2025-03-03 14:31:28.729 [INF] - Executed endpoint 'TicketsController.BookTicket (StevenAccelokaAPI)'
2025-03-03 14:31:28.729 [INF] - HTTP POST /api/v1/book-ticket responded 400 in 75.3258 ms
2025-03-03 14:31:28.729 [INF] - Request finished HTTP/1.1 POST http://localhost:5289/api/v1/book-ticket - 400 null application/problem+json; charset=utf-8 79.5864ms
2025-03-03 14:31:43.265 [INF] - Request starting HTTP/1.1 POST http://localhost:5289/api/v1/book-ticket - application/json 147
2025-03-03 14:31:43.265 [INF] - Executing endpoint 'TicketsController.BookTicket (StevenAccelokaAPI)'
2025-03-03 14:31:43.265 [INF] - Route matched with {action = "BookTicket", controller = "Tickets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] BookTicket(StevenAccelokaAPI.Models.DTOs.BookTicketRequest) on controller TicketsController (StevenAccelokaAPI).
2025-03-03 14:31:43.311 [INF] - Executed DbCommand (4ms) [Parameters=[@__ticketCodes_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CategoryName], [t].[EventDate], [t].[Price], [t].[Quota], [t].[TicketCode], [t].[TicketName]
FROM [Tickets] AS [t]
WHERE [t].[TicketCode] IN (
    SELECT [t0].[value]
    FROM OPENJSON(@__ticketCodes_0) WITH ([value] nvarchar(max) '$') AS [t0]
)
2025-03-03 14:31:43.442 [ERR] - Failed executing DbCommand (14ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 50), @p2='?' (DbType = DateTime2), @p3='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p4='?' (DbType = Int32), @p5='?' (Size = 50), @p6='?' (Size = 100), @p7='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p8='?' (DbType = DateTime2), @p9='?' (Size = 50), @p10='?' (DbType = DateTime2), @p11='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p12='?' (DbType = Int32), @p13='?' (Size = 50), @p14='?' (Size = 100), @p15='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p17='?' (DbType = Int32), @p16='?' (DbType = Int32), @p19='?' (DbType = Int32), @p18='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
MERGE [BookedTickets] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, 0),
(@p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, 1)) AS i ([BookingDate], [CategoryName], [EventDate], [Price], [Quantity], [TicketCode], [TicketName], [TotalPrice], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([BookingDate], [CategoryName], [EventDate], [Price], [Quantity], [TicketCode], [TicketName], [TotalPrice])
VALUES (i.[BookingDate], i.[CategoryName], i.[EventDate], i.[Price], i.[Quantity], i.[TicketCode], i.[TicketName], i.[TotalPrice])
OUTPUT INSERTED.[Id], i._Position;
UPDATE [Tickets] SET [Quota] = @p16
OUTPUT 1
WHERE [Id] = @p17;
UPDATE [Tickets] SET [Quota] = @p18
OUTPUT 1
WHERE [Id] = @p19;
2025-03-03 14:31:43.475 [ERR] - An exception occurred in the database while saving changes for context type 'ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'TotalPrice'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:1aef8b5d-b475-4778-b014-2672a939f333
Error Number:207,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'TotalPrice'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:1aef8b5d-b475-4778-b014-2672a939f333
Error Number:207,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-03-03 14:31:43.525 [INF] - Executed action TicketsController.BookTicket (StevenAccelokaAPI) in 259.551ms
2025-03-03 14:31:43.526 [INF] - Executed endpoint 'TicketsController.BookTicket (StevenAccelokaAPI)'
2025-03-03 14:31:43.526 [ERR] - HTTP POST /api/v1/book-ticket responded 500 in 261.1121 ms
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'TotalPrice'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:1aef8b5d-b475-4778-b014-2672a939f333
Error Number:207,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at TicketsController.BookTicket(BookTicketRequest request) in C:\1. Magang\Accelist - Training\Training Intermediate BE\StevenAccelokaAPI\Controllers\TicketsController.cs:line 223
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-03-03 14:31:43.543 [ERR] - An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'TotalPrice'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:1aef8b5d-b475-4778-b014-2672a939f333
Error Number:207,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at TicketsController.BookTicket(BookTicketRequest request) in C:\1. Magang\Accelist - Training\Training Intermediate BE\StevenAccelokaAPI\Controllers\TicketsController.cs:line 223
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-03-03 14:31:43.548 [INF] - Request finished HTTP/1.1 POST http://localhost:5289/api/v1/book-ticket - 500 null text/plain; charset=utf-8 283.5083ms
2025-03-03 14:33:16.958 [INF] - Request starting HTTP/1.1 POST http://localhost:5289/api/v1/book-ticket - application/json 146
2025-03-03 14:33:16.962 [INF] - Executing endpoint 'TicketsController.BookTicket (StevenAccelokaAPI)'
2025-03-03 14:33:16.963 [INF] - Route matched with {action = "BookTicket", controller = "Tickets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] BookTicket(StevenAccelokaAPI.Models.DTOs.BookTicketRequest) on controller TicketsController (StevenAccelokaAPI).
2025-03-03 14:33:16.968 [INF] - Executed DbCommand (4ms) [Parameters=[@__ticketCodes_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CategoryName], [t].[EventDate], [t].[Price], [t].[Quota], [t].[TicketCode], [t].[TicketName]
FROM [Tickets] AS [t]
WHERE [t].[TicketCode] IN (
    SELECT [t0].[value]
    FROM OPENJSON(@__ticketCodes_0) WITH ([value] nvarchar(max) '$') AS [t0]
)
2025-03-03 14:33:16.974 [ERR] - Failed executing DbCommand (2ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 50), @p2='?' (DbType = DateTime2), @p3='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p4='?' (DbType = Int32), @p5='?' (Size = 50), @p6='?' (Size = 100), @p7='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p8='?' (DbType = DateTime2), @p9='?' (Size = 50), @p10='?' (DbType = DateTime2), @p11='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p12='?' (DbType = Int32), @p13='?' (Size = 50), @p14='?' (Size = 100), @p15='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p17='?' (DbType = Int32), @p16='?' (DbType = Int32), @p19='?' (DbType = Int32), @p18='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
MERGE [BookedTickets] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, 0),
(@p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, 1)) AS i ([BookingDate], [CategoryName], [EventDate], [Price], [Quantity], [TicketCode], [TicketName], [TotalPrice], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([BookingDate], [CategoryName], [EventDate], [Price], [Quantity], [TicketCode], [TicketName], [TotalPrice])
VALUES (i.[BookingDate], i.[CategoryName], i.[EventDate], i.[Price], i.[Quantity], i.[TicketCode], i.[TicketName], i.[TotalPrice])
OUTPUT INSERTED.[Id], i._Position;
UPDATE [Tickets] SET [Quota] = @p16
OUTPUT 1
WHERE [Id] = @p17;
UPDATE [Tickets] SET [Quota] = @p18
OUTPUT 1
WHERE [Id] = @p19;
2025-03-03 14:33:16.977 [ERR] - An exception occurred in the database while saving changes for context type 'ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'TotalPrice'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:1aef8b5d-b475-4778-b014-2672a939f333
Error Number:207,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'TotalPrice'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:1aef8b5d-b475-4778-b014-2672a939f333
Error Number:207,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-03-03 14:33:17.000 [INF] - Executed action TicketsController.BookTicket (StevenAccelokaAPI) in 36.9531ms
2025-03-03 14:33:17.000 [INF] - Executed endpoint 'TicketsController.BookTicket (StevenAccelokaAPI)'
2025-03-03 14:33:17.001 [ERR] - HTTP POST /api/v1/book-ticket responded 500 in 39.8029 ms
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'TotalPrice'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:1aef8b5d-b475-4778-b014-2672a939f333
Error Number:207,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at TicketsController.BookTicket(BookTicketRequest request) in C:\1. Magang\Accelist - Training\Training Intermediate BE\StevenAccelokaAPI\Controllers\TicketsController.cs:line 223
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-03-03 14:33:17.002 [ERR] - An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'TotalPrice'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:1aef8b5d-b475-4778-b014-2672a939f333
Error Number:207,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at TicketsController.BookTicket(BookTicketRequest request) in C:\1. Magang\Accelist - Training\Training Intermediate BE\StevenAccelokaAPI\Controllers\TicketsController.cs:line 223
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-03-03 14:33:17.004 [INF] - Request finished HTTP/1.1 POST http://localhost:5289/api/v1/book-ticket - 500 null text/plain; charset=utf-8 46.0047ms
2025-03-03 14:34:56.549 [WRN] - No store type was specified for the decimal property 'Price' on entity type 'Ticket'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-03-03 14:34:56.671 [WRN] - No store type was specified for the decimal property 'Price' on entity type 'Ticket'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-03-03 14:35:54.636 [WRN] - No store type was specified for the decimal property 'Price' on entity type 'Ticket'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-03-03 14:36:07.080 [WRN] - No store type was specified for the decimal property 'Price' on entity type 'Ticket'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-03-03 14:36:07.351 [INF] - Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-03-03 14:36:07.358 [INF] - Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-03-03 14:36:07.369 [INF] - Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-03-03 14:36:07.417 [INF] - Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-03-03 14:36:07.422 [INF] - Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-03-03 14:36:07.422 [INF] - Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-03-03 14:36:07.425 [INF] - Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-03-03 14:36:07.432 [INF] - Applying migration '20250303073555_UpdateBookedTickets'.
2025-03-03 14:36:07.446 [INF] - Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [BookedTickets] ADD [TotalPrice] decimal(18,2) NOT NULL DEFAULT 0.0;
2025-03-03 14:36:07.448 [INF] - Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20250303073555_UpdateBookedTickets', N'9.0.2');
2025-03-03 14:36:07.449 [INF] - Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-03-03 14:36:30.995 [INF] - Aplikasi telah dimulai dan Serilog sudah aktif.
2025-03-03 14:36:31.335 [INF] - Now listening on: http://localhost:5289
2025-03-03 14:36:31.436 [INF] - Application started. Press Ctrl+C to shut down.
2025-03-03 14:36:31.436 [INF] - Hosting environment: Development
2025-03-03 14:36:31.436 [INF] - Content root path: C:\1. Magang\Accelist - Training\Training Intermediate BE\StevenAccelokaAPI
2025-03-03 14:36:31.710 [INF] - Request starting HTTP/1.1 GET http://localhost:5289/swagger/index.html - null null
2025-03-03 14:36:31.993 [INF] - HTTP GET /swagger/index.html responded 200 in 131.6923 ms
2025-03-03 14:36:32.000 [INF] - Request finished HTTP/1.1 GET http://localhost:5289/swagger/index.html - 200 null text/html;charset=utf-8 297.3609ms
2025-03-03 14:36:32.004 [INF] - Request starting HTTP/1.1 GET http://localhost:5289/_vs/browserLink - null null
2025-03-03 14:36:32.004 [INF] - Request starting HTTP/1.1 GET http://localhost:5289/_framework/aspnetcore-browser-refresh.js - null null
2025-03-03 14:36:32.009 [INF] - Request finished HTTP/1.1 GET http://localhost:5289/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 6.1789ms
2025-03-03 14:36:32.052 [INF] - Request finished HTTP/1.1 GET http://localhost:5289/_vs/browserLink - 200 null text/javascript; charset=UTF-8 49.3071ms
2025-03-03 14:36:32.134 [INF] - Request starting HTTP/1.1 GET http://localhost:5289/swagger/v1/swagger.json - null null
2025-03-03 14:36:32.143 [INF] - HTTP GET /swagger/v1/swagger.json responded 200 in 7.7478 ms
2025-03-03 14:36:32.144 [INF] - Request finished HTTP/1.1 GET http://localhost:5289/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 9.8586ms
2025-03-03 14:37:46.115 [INF] - Request starting HTTP/1.1 POST http://localhost:5289/api/v1/book-ticket - application/json 145
2025-03-03 14:37:46.120 [WRN] - Failed to determine the https port for redirect.
2025-03-03 14:37:46.123 [INF] - Executing endpoint 'TicketsController.BookTicket (StevenAccelokaAPI)'
2025-03-03 14:37:46.142 [INF] - Route matched with {action = "BookTicket", controller = "Tickets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] BookTicket(StevenAccelokaAPI.Models.DTOs.BookTicketRequest) on controller TicketsController (StevenAccelokaAPI).
2025-03-03 14:37:46.574 [WRN] - No store type was specified for the decimal property 'Price' on entity type 'Ticket'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-03-03 14:37:47.220 [INF] - Executed DbCommand (51ms) [Parameters=[@__ticketCodes_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CategoryName], [t].[EventDate], [t].[Price], [t].[Quota], [t].[TicketCode], [t].[TicketName]
FROM [Tickets] AS [t]
WHERE [t].[TicketCode] IN (
    SELECT [t0].[value]
    FROM OPENJSON(@__ticketCodes_0) WITH ([value] nvarchar(max) '$') AS [t0]
)
2025-03-03 14:37:47.406 [INF] - Executed DbCommand (16ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 50), @p2='?' (DbType = DateTime2), @p3='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p4='?' (DbType = Int32), @p5='?' (Size = 50), @p6='?' (Size = 100), @p7='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p8='?' (DbType = DateTime2), @p9='?' (Size = 50), @p10='?' (DbType = DateTime2), @p11='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p12='?' (DbType = Int32), @p13='?' (Size = 50), @p14='?' (Size = 100), @p15='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p17='?' (DbType = Int32), @p16='?' (DbType = Int32), @p19='?' (DbType = Int32), @p18='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
MERGE [BookedTickets] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, 0),
(@p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, 1)) AS i ([BookingDate], [CategoryName], [EventDate], [Price], [Quantity], [TicketCode], [TicketName], [TotalPrice], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([BookingDate], [CategoryName], [EventDate], [Price], [Quantity], [TicketCode], [TicketName], [TotalPrice])
VALUES (i.[BookingDate], i.[CategoryName], i.[EventDate], i.[Price], i.[Quantity], i.[TicketCode], i.[TicketName], i.[TotalPrice])
OUTPUT INSERTED.[Id], i._Position;
UPDATE [Tickets] SET [Quota] = @p16
OUTPUT 1
WHERE [Id] = @p17;
UPDATE [Tickets] SET [Quota] = @p18
OUTPUT 1
WHERE [Id] = @p19;
2025-03-03 14:37:47.436 [INF] - Executing OkObjectResult, writing value of type '<>f__AnonymousType1`4[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[<>f__AnonymousType2`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[<>f__AnonymousType3`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], StevenAccelokaAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], StevenAccelokaAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-03 14:37:47.449 [INF] - Executed action TicketsController.BookTicket (StevenAccelokaAPI) in 1304.8314ms
2025-03-03 14:37:47.450 [INF] - Executed endpoint 'TicketsController.BookTicket (StevenAccelokaAPI)'
2025-03-03 14:37:47.450 [INF] - HTTP POST /api/v1/book-ticket responded 200 in 1333.2306 ms
2025-03-03 14:37:47.455 [INF] - Request finished HTTP/1.1 POST http://localhost:5289/api/v1/book-ticket - 200 null application/json; charset=utf-8 1340.0762ms
2025-03-03 14:38:41.864 [INF] - Request starting HTTP/1.1 POST http://localhost:5289/api/v1/book-ticket - application/json 146
2025-03-03 14:38:41.866 [INF] - Executing endpoint 'TicketsController.BookTicket (StevenAccelokaAPI)'
2025-03-03 14:38:41.866 [INF] - Route matched with {action = "BookTicket", controller = "Tickets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] BookTicket(StevenAccelokaAPI.Models.DTOs.BookTicketRequest) on controller TicketsController (StevenAccelokaAPI).
2025-03-03 14:38:41.901 [INF] - Executed DbCommand (4ms) [Parameters=[@__ticketCodes_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CategoryName], [t].[EventDate], [t].[Price], [t].[Quota], [t].[TicketCode], [t].[TicketName]
FROM [Tickets] AS [t]
WHERE [t].[TicketCode] IN (
    SELECT [t0].[value]
    FROM OPENJSON(@__ticketCodes_0) WITH ([value] nvarchar(max) '$') AS [t0]
)
2025-03-03 14:38:41.908 [INF] - Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 50), @p2='?' (DbType = DateTime2), @p3='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p4='?' (DbType = Int32), @p5='?' (Size = 50), @p6='?' (Size = 100), @p7='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p8='?' (DbType = DateTime2), @p9='?' (Size = 50), @p10='?' (DbType = DateTime2), @p11='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p12='?' (DbType = Int32), @p13='?' (Size = 50), @p14='?' (Size = 100), @p15='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p17='?' (DbType = Int32), @p16='?' (DbType = Int32), @p19='?' (DbType = Int32), @p18='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
MERGE [BookedTickets] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, 0),
(@p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, 1)) AS i ([BookingDate], [CategoryName], [EventDate], [Price], [Quantity], [TicketCode], [TicketName], [TotalPrice], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([BookingDate], [CategoryName], [EventDate], [Price], [Quantity], [TicketCode], [TicketName], [TotalPrice])
VALUES (i.[BookingDate], i.[CategoryName], i.[EventDate], i.[Price], i.[Quantity], i.[TicketCode], i.[TicketName], i.[TotalPrice])
OUTPUT INSERTED.[Id], i._Position;
UPDATE [Tickets] SET [Quota] = @p16
OUTPUT 1
WHERE [Id] = @p17;
UPDATE [Tickets] SET [Quota] = @p18
OUTPUT 1
WHERE [Id] = @p19;
2025-03-03 14:38:41.909 [INF] - Executing OkObjectResult, writing value of type '<>f__AnonymousType1`4[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[<>f__AnonymousType2`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[<>f__AnonymousType3`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], StevenAccelokaAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], StevenAccelokaAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-03 14:38:41.910 [INF] - Executed action TicketsController.BookTicket (StevenAccelokaAPI) in 43.4908ms
2025-03-03 14:38:41.910 [INF] - Executed endpoint 'TicketsController.BookTicket (StevenAccelokaAPI)'
2025-03-03 14:38:41.910 [INF] - HTTP POST /api/v1/book-ticket responded 200 in 44.4857 ms
2025-03-03 14:38:41.910 [INF] - Request finished HTTP/1.1 POST http://localhost:5289/api/v1/book-ticket - 200 null application/json; charset=utf-8 48.6922ms
2025-03-03 14:38:59.112 [INF] - Request starting HTTP/1.1 POST http://localhost:5289/api/v1/book-ticket - application/json 146
2025-03-03 14:38:59.113 [INF] - Executing endpoint 'TicketsController.BookTicket (StevenAccelokaAPI)'
2025-03-03 14:38:59.113 [INF] - Route matched with {action = "BookTicket", controller = "Tickets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] BookTicket(StevenAccelokaAPI.Models.DTOs.BookTicketRequest) on controller TicketsController (StevenAccelokaAPI).
2025-03-03 14:38:59.158 [INF] - Executed DbCommand (1ms) [Parameters=[@__ticketCodes_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CategoryName], [t].[EventDate], [t].[Price], [t].[Quota], [t].[TicketCode], [t].[TicketName]
FROM [Tickets] AS [t]
WHERE [t].[TicketCode] IN (
    SELECT [t0].[value]
    FROM OPENJSON(@__ticketCodes_0) WITH ([value] nvarchar(max) '$') AS [t0]
)
2025-03-03 14:38:59.159 [INF] - Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-03-03 14:38:59.173 [INF] - Executed action TicketsController.BookTicket (StevenAccelokaAPI) in 59.7685ms
2025-03-03 14:38:59.173 [INF] - Executed endpoint 'TicketsController.BookTicket (StevenAccelokaAPI)'
2025-03-03 14:38:59.173 [INF] - HTTP POST /api/v1/book-ticket responded 400 in 60.1780 ms
2025-03-03 14:38:59.173 [INF] - Request finished HTTP/1.1 POST http://localhost:5289/api/v1/book-ticket - 400 null application/problem+json; charset=utf-8 60.8262ms
2025-03-03 15:24:27.333 [INF] - Aplikasi telah dimulai dan Serilog sudah aktif.
2025-03-03 15:24:27.809 [INF] - Now listening on: http://localhost:5289
2025-03-03 15:24:27.941 [INF] - Application started. Press Ctrl+C to shut down.
2025-03-03 15:24:27.942 [INF] - Hosting environment: Development
2025-03-03 15:24:27.942 [INF] - Content root path: C:\1. Magang\Accelist - Training\Training Intermediate BE\StevenAccelokaAPI
2025-03-03 15:24:28.203 [INF] - Request starting HTTP/1.1 GET http://localhost:5289/swagger/index.html - null null
2025-03-03 15:24:28.545 [INF] - HTTP GET /swagger/index.html responded 200 in 141.1671 ms
2025-03-03 15:24:28.560 [INF] - Request starting HTTP/1.1 GET http://localhost:5289/_framework/aspnetcore-browser-refresh.js - null null
2025-03-03 15:24:28.560 [INF] - Request starting HTTP/1.1 GET http://localhost:5289/_vs/browserLink - null null
2025-03-03 15:24:28.576 [INF] - Request finished HTTP/1.1 GET http://localhost:5289/swagger/index.html - 200 null text/html;charset=utf-8 381.5876ms
2025-03-03 15:24:28.578 [INF] - Request finished HTTP/1.1 GET http://localhost:5289/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 27.9987ms
2025-03-03 15:24:28.619 [INF] - Request finished HTTP/1.1 GET http://localhost:5289/_vs/browserLink - 200 null text/javascript; charset=UTF-8 63.0444ms
2025-03-03 15:24:28.699 [INF] - Request starting HTTP/1.1 GET http://localhost:5289/swagger/v1/swagger.json - null null
2025-03-03 15:24:28.710 [INF] - HTTP GET /swagger/v1/swagger.json responded 200 in 9.6561 ms
2025-03-03 15:24:28.710 [INF] - Request finished HTTP/1.1 GET http://localhost:5289/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 11.5807ms
2025-03-03 15:26:28.443 [WRN] - No store type was specified for the decimal property 'Price' on entity type 'Ticket'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-03-03 15:26:33.912 [WRN] - No store type was specified for the decimal property 'Price' on entity type 'Ticket'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-03-03 15:26:34.231 [INF] - Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-03-03 15:26:34.238 [INF] - Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-03-03 15:26:34.249 [INF] - Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-03-03 15:26:34.296 [INF] - Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-03-03 15:26:34.302 [INF] - Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-03-03 15:26:34.302 [INF] - Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-03-03 15:26:34.306 [INF] - Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-03-03 15:26:34.314 [INF] - Applying migration '20250303082628_AddForeignKeysToBookedTicket'.
2025-03-03 15:26:34.353 [INF] - Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var sysname;
SELECT @var = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[BookedTickets]') AND [c].[name] = N'CategoryName');
IF @var IS NOT NULL EXEC(N'ALTER TABLE [BookedTickets] DROP CONSTRAINT [' + @var + '];');
ALTER TABLE [BookedTickets] DROP COLUMN [CategoryName];
2025-03-03 15:26:34.364 [INF] - Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var1 sysname;
SELECT @var1 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[BookedTickets]') AND [c].[name] = N'TicketCode');
IF @var1 IS NOT NULL EXEC(N'ALTER TABLE [BookedTickets] DROP CONSTRAINT [' + @var1 + '];');
ALTER TABLE [BookedTickets] DROP COLUMN [TicketCode];
2025-03-03 15:26:34.375 [INF] - Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var2 sysname;
SELECT @var2 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[BookedTickets]') AND [c].[name] = N'TicketName');
IF @var2 IS NOT NULL EXEC(N'ALTER TABLE [BookedTickets] DROP CONSTRAINT [' + @var2 + '];');
ALTER TABLE [BookedTickets] DROP COLUMN [TicketName];
2025-03-03 15:26:34.556 [INF] - Executed DbCommand (180ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
EXEC sp_rename N'[Tickets].[CategoryName]', N'TicketCategoryName', 'COLUMN';
2025-03-03 15:26:34.561 [INF] - Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Tickets] ADD [TicketCategoryId] int NOT NULL DEFAULT 0;
2025-03-03 15:26:34.563 [INF] - Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [BookedTickets] ADD [TicketCategoryId] int NOT NULL DEFAULT 0;
2025-03-03 15:26:34.565 [INF] - Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [BookedTickets] ADD [TicketId] int NOT NULL DEFAULT 0;
2025-03-03 15:26:34.567 [INF] - Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [TicketCategory] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(50) NOT NULL,
    CONSTRAINT [PK_TicketCategory] PRIMARY KEY ([Id])
);
2025-03-03 15:26:34.580 [INF] - Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Tickets_TicketCategoryId] ON [Tickets] ([TicketCategoryId]);
2025-03-03 15:26:34.582 [INF] - Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_BookedTickets_TicketCategoryId] ON [BookedTickets] ([TicketCategoryId]);
2025-03-03 15:26:34.584 [INF] - Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_BookedTickets_TicketId] ON [BookedTickets] ([TicketId]);
2025-03-03 15:26:34.598 [ERR] - Failed executing DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [BookedTickets] ADD CONSTRAINT [FK_BookedTickets_TicketCategory_TicketCategoryId] FOREIGN KEY ([TicketCategoryId]) REFERENCES [TicketCategory] ([Id]) ON DELETE CASCADE;
2025-03-03 15:31:34.617 [WRN] - No store type was specified for the decimal property 'Price' on entity type 'Ticket'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-03-03 15:31:35.149 [INF] - Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-03-03 15:31:35.163 [INF] - Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-03-03 15:31:35.174 [INF] - Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-03-03 15:31:40.427 [WRN] - No store type was specified for the decimal property 'Price' on entity type 'Ticket'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-03-03 15:31:45.805 [WRN] - No store type was specified for the decimal property 'Price' on entity type 'Ticket'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-03-03 15:31:46.092 [INF] - Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-03-03 15:31:46.100 [INF] - Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-03-03 15:31:46.112 [INF] - Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-03-03 15:31:46.157 [INF] - Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-03-03 15:31:46.162 [INF] - Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-03-03 15:31:46.163 [INF] - Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-03-03 15:31:46.165 [INF] - Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-03-03 15:31:46.171 [INF] - Applying migration '20250303083140_FixBookedTicketsColumn'.
2025-03-03 15:31:46.199 [INF] - Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var sysname;
SELECT @var = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[BookedTickets]') AND [c].[name] = N'CategoryName');
IF @var IS NOT NULL EXEC(N'ALTER TABLE [BookedTickets] DROP CONSTRAINT [' + @var + '];');
ALTER TABLE [BookedTickets] DROP COLUMN [CategoryName];
2025-03-03 15:31:46.209 [INF] - Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var1 sysname;
SELECT @var1 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[BookedTickets]') AND [c].[name] = N'TicketCode');
IF @var1 IS NOT NULL EXEC(N'ALTER TABLE [BookedTickets] DROP CONSTRAINT [' + @var1 + '];');
ALTER TABLE [BookedTickets] DROP COLUMN [TicketCode];
2025-03-03 15:31:46.220 [INF] - Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var2 sysname;
SELECT @var2 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[BookedTickets]') AND [c].[name] = N'TicketName');
IF @var2 IS NOT NULL EXEC(N'ALTER TABLE [BookedTickets] DROP CONSTRAINT [' + @var2 + '];');
ALTER TABLE [BookedTickets] DROP COLUMN [TicketName];
2025-03-03 15:31:46.359 [INF] - Executed DbCommand (139ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
EXEC sp_rename N'[Tickets].[CategoryName]', N'TicketCategoryName', 'COLUMN';
2025-03-03 15:31:46.363 [INF] - Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Tickets] ADD [TicketCategoryId] int NOT NULL DEFAULT 0;
2025-03-03 15:31:46.364 [INF] - Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [BookedTickets] ADD [TicketCategoryId] int NOT NULL DEFAULT 0;
2025-03-03 15:31:46.366 [INF] - Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [BookedTickets] ADD [TicketId] int NOT NULL DEFAULT 0;
2025-03-03 15:31:46.366 [INF] - Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [TicketCategory] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(50) NOT NULL,
    CONSTRAINT [PK_TicketCategory] PRIMARY KEY ([Id])
);
2025-03-03 15:31:46.368 [INF] - Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Tickets_TicketCategoryId] ON [Tickets] ([TicketCategoryId]);
2025-03-03 15:31:46.369 [INF] - Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_BookedTickets_TicketCategoryId] ON [BookedTickets] ([TicketCategoryId]);
2025-03-03 15:31:46.370 [INF] - Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_BookedTickets_TicketId] ON [BookedTickets] ([TicketId]);
2025-03-03 15:31:46.375 [ERR] - Failed executing DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [BookedTickets] ADD CONSTRAINT [FK_BookedTickets_TicketCategory_TicketCategoryId] FOREIGN KEY ([TicketCategoryId]) REFERENCES [TicketCategory] ([Id]) ON DELETE CASCADE;
2025-03-03 15:39:58.431 [WRN] - No store type was specified for the decimal property 'Price' on entity type 'Ticket'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
